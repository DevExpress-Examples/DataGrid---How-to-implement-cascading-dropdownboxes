#pragma checksum "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "2236bb5b221d966d7ff2e1184d4428d1aa5f14d9"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(DevExtremeAspNetCoreApp1.Models.Home.Views_Home_Index), @"mvc.1.0.view", @"/Views/Home/Index.cshtml")]
namespace DevExtremeAspNetCoreApp1.Models.Home
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\_ViewImports.cshtml"
using DevExtremeAspNetCoreApp1;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\_ViewImports.cshtml"
using DevExtreme.AspNet.Mvc;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
using DevExtremeAspNetCoreApp1.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"2236bb5b221d966d7ff2e1184d4428d1aa5f14d9", @"/Views/Home/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"01f18862e76c15ffed4329856b92adaa720a7d58", @"/Views/_ViewImports.cshtml")]
    public class Views_Home_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n<div id=\"data-grid-demo\">\r\n    ");
#nullable restore
#line 4 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
Write(Html.DevExtreme().DataGrid<EmployeeByState>()
        .ID("gridContainer")
        .ShowBorders(true)
        .Editing(editing => {
            editing.Mode(GridEditMode.Row);
            editing.AllowUpdating(true);
            editing.AllowAdding(true);
        })
        .Columns(columns => {
            columns.AddFor(m => m.StateID)
                .SetCellValue("setStateValue")
                .CellTemplate(new JS("arrayCellTemplate"))
                .EditCellTemplate(new TemplateName("StateDropDownBoxTemplate"))
                .Lookup(lookup => lookup
                    .DataSource(d => d.Mvc().Controller("DataGridStatesWithCities").LoadAction("Get").Key("ID"))
                    .DisplayExpr("Name")
                    .ValueExpr("ID")
                );

            columns.AddFor(m => m.CityID)
                .CellTemplate(new JS("arrayCellTemplate"))
                .EditCellTemplate(new TemplateName("CityDropDownBoxTemplate"))
                .Lookup(lookup => lookup
                    .DataSource("getCities")
                    .DisplayExpr("Name")
                    .ValueExpr("ID")
                );

        })
        .DataSource(d => d.Mvc()
            .Controller("DataGridEmployeesByState")
            .LoadAction("Get")
            .InsertAction("Post")
            .UpdateAction("Put")
            .Key("ID")
        )
    );

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n\r\n");
#nullable restore
#line 42 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
     using (Html.DevExtreme().NamedTemplate("StateDropDownBoxTemplate"))
    {
        

#line default
#line hidden
#nullable disable
#nullable restore
#line 44 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
    Write(Html.DevExtreme().DropDownBox()
            .DataSource(new JS("column.lookup.dataSource"))
            .Value(new JS("value"))
            .ValueExpr("ID")
            .DisplayExpr("Name")
            .Option("setValue", new JS("setValue"))
            .ContentTemplate(new TemplateName("StateContentTemplate"))
        );

#line default
#line hidden
#nullable disable
#nullable restore
#line 51 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
         
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 54 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
     using (Html.DevExtreme().NamedTemplate("StateContentTemplate"))
    {
        

#line default
#line hidden
#nullable disable
#nullable restore
#line 56 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
    Write(Html.DevExtreme().DataGrid()
                .ID("dataGrid")
                .DataSource(new JS("component.option('dataSource')"))
                .Height(250)
                .Columns(c => {
                     c.Add().DataField("ID");
                     c.Add().DataField("Name");
                 })
                .HoverStateEnabled(true)
                .Selection(s => s.Mode(SelectionMode.Multiple))
                .SelectedRowKeys(new JS("component.option('value')"))
                .OnSelectionChanged("function(selectionChangedArgs) { onSelectionChanged(selectionChangedArgs, component) }")
            );

#line default
#line hidden
#nullable disable
#nullable restore
#line 69 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
    Write(Html.DevExtreme().Button()
            .Text("Apply")
            .OnClick("function(e) { onClick(e, component)}")
        );

#line default
#line hidden
#nullable disable
#nullable restore
#line 72 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
         
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 75 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
     using (Html.DevExtreme().NamedTemplate("CityDropDownBoxTemplate"))
    {
        

#line default
#line hidden
#nullable disable
#nullable restore
#line 77 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
    Write(Html.DevExtreme().DropDownBox()
            .DataSource(new JS("getCityDropDownDs(obj)"))
            .Value(new JS("value"))
            .ValueExpr("ID")
            .DisplayExpr("Name")
            .Option("setValue", new JS("setValue"))
            .ContentTemplate(new TemplateName("CityContentTemplate"))
        );

#line default
#line hidden
#nullable disable
#nullable restore
#line 84 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
         
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n");
#nullable restore
#line 87 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
     using (Html.DevExtreme().NamedTemplate("CityContentTemplate"))
    {
        

#line default
#line hidden
#nullable disable
#nullable restore
#line 89 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
    Write(Html.DevExtreme().DataGrid()
            .ID("dataGrid")
            .DataSource(new JS("component.option('dataSource')"))
            .Height(250)
            .Columns(c => {
                c.Add().DataField("ID");
                c.Add().DataField("Name");
            })
            .HoverStateEnabled(true)
            .Selection(s => s.Mode(SelectionMode.Multiple))
            .SelectedRowKeys(new JS("component.option('value')"))
            .OnSelectionChanged("function(selectionChangedArgs) { onSelectionChanged(selectionChangedArgs, component) }")
        );

#line default
#line hidden
#nullable disable
#nullable restore
#line 102 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
    Write(Html.DevExtreme().Button()
            .Text("Apply")
            .OnClick("function(e) { onClick(e, component)}")
        );

#line default
#line hidden
#nullable disable
#nullable restore
#line 105 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
         
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\r\n\r\n<script>\r\n    function getCities(options) {\r\n        return {\r\n            store: DevExpress.data.AspNet.createStore({\r\n                key: \"ID\",\r\n                loadUrl: \'");
#nullable restore
#line 114 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
                     Write(Url.Action("Get", "DataGridCitiesByState", new { httproute = true }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"'
            }),
            filter: options.data ? [""StateID"", ""="", options.data.StateID] : null
        };
    }

    function getCityDropDownDs(cellInfo) {
        return new DevExpress.data.DataSource({
            store: DevExpress.data.AspNet.createStore({
                key: ""ID"",
                loadUrl: '");
#nullable restore
#line 124 "A:\Programming\DevExtreme\ASP.NET Testing\SAMPLES\Cascading DropDown editors\DevExtremeAspNetCoreApp1\DevExtremeAspNetCoreApp1\Views\Home\Index.cshtml"
                     Write(Url.Action("Get", "DataGridCitiesByState", new { httproute = true }));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"'
            }),
            filter: function (data) {
                return cellInfo.row.data.StateID.includes(data.StateID);
            }
        });
    }

    function setStateValue(rowData, value) {
        rowData.StateID = value;
        rowData.CityID = [];
    }

    function arrayCellTemplate(container, options) {
        var noBreakSpace = ""\u00A0"",
            text = (options.value || []).map(element => {
                return options.column.lookup.calculateCellValue(element);
            }).join("", "");
        container.text(text || noBreakSpace).attr(""title"", text);
    }

    function onClick(e, dropDownBox) {
        let setValue = dropDownBox.option('setValue');
        // TODO: fix datagrid instance retrieval
        let dataGrid = getDropDownBoxGrid(dropDownBox)
        debugger;
        let selectedKeys = dataGrid.getSelectedRowKeys();
        setValue(selectedKeys);
        
        dropDownBox.close();
    }

    function getDropDownBoxGrid(dropDownBox");
            WriteLiteral(@") {
        let dataGridEl = $(dropDownBox.content()).find(""#dataGrid"")
        
        return dataGridEl.dxDataGrid('instance')
    }

    function onSelectionChanged(e, dropDownBox) {
        dropDownBox.option(""value"", e.selectedRowKeys);
    }
</script>");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
